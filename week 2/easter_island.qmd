---
title: "easter_island"
format: html
---

# Week 2 Lab

### Load in data

```{r}
library(here)
library(tidyverse)
library(sf)
library(stars)
library(tmap)
```

```{r}
ei_points <- st_read(here("data", "easter-island", "ei_points.gpkg")) |> 
  filter(type == "volcano")
ei_elev <- read_stars(here("data", "easter-island", "ei_elev.tif"))
ei_borders <- st_read(here("data", "easter-island", "ei_border.gpkg"))
ei_roads <- st_read(here("data", "easter-island", "ei_roads.gpkg"))
```

### 2. Create a single-object map with tmap

Create a map of the outline Rapa Nui using tm_shape() + tm_borders()

```{r}
rapa_nui_outline <- tm_shape(ei_borders)+
  tm_borders()

rapa_nui_outline
```
### 3. Create a multiple-object map with tmap

Expand on your single-object map to create a map of Rapa Nui and: 
- denote the island’s borders and continuous elevation
- denote the island’s volcanoes and roads
- play with the color palette and essential map elements

```{r}
tm_shape(ei_borders) +
  tm_borders() +
  tm_polygons(fill = "forestgreen")
  tm_layout(col)
tm_shape(ei_elev) +
  tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(9)))) +
tm_shape(ei_points) +
  tm_polygons() +
  tm_symbols(shape = 24, size = 0.5, fill = "red", size.legend = ("Elevation") ) +
tm_shape(ei_roads) +
  tm_lines() +
  tm_text("") +
tm_compass()


ei_map <- tm_shape(ei_elev) +
  tm_graticules() +
  tm_raster(col.scale = tm_scale_continuous(values = "-rd_yl_gn"),
            col.legend = tm_legend("Elevation (m asl)")) +
  tm_shape(ei_borders) + 
    tm_borders() +
  tm_shape(ei_roads) +
    tm_lines() +
  tm_shape(ei_points) +
    tm_symbols(shape = 24, 
               size = "elevation", 
               size.legend = tm_legend("Volcanoes (m asl)")) +
  tm_compass(position = c("right", "top")) +
  tm_scalebar() +
  tm_title("Easter Island")

ei_map
  
  
```

